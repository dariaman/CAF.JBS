@model CAF.JBS.ViewModels.DownloadBillingVM

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script>

    $(document).ready(function () {
        $('#BniCC').change(function () {
            if (this.checked) {
                $('#MegaCC').fadeOut('fast');
                $('#MegaCC').checked = false;
            }
            else {
                $('#MegaCC').fadeIn('fast');
                $('#MegaCC').checked = false;
            }

        });

        $('#MegaCC').change(function () {
            if (this.checked) {
                $('#BniCC').fadeOut('fast');
                $('#BniCC').checked = false;
            }
            else {
                $('#BniCC').fadeIn('fast');
                $('#BniCC').checked = false;
            }

        });
    });
</script>

<form asp-action="Download">
    <div class="container" style="margin: auto; padding: 20px;">
        <div class="panel panel-primary" style="margin: auto;width:700px;">
            <div class="panel-heading">Download Billing</div>
            <div class="panel-body">
                <h4>Billing CC</h4>
                <table class="table table-bordered table-striped">
                    <thead>
                        <tr>
                            <th style="width:250px;">Bank Collector</th>
                            <th>File Billing</th>
                            <th style="width:125px;">Upload Result</th>
                        </tr>
                    </thead>
                    <tr>
                        <td>@{ if (ViewBag.BCACC == null)
                            {
                                <input type="checkbox" asp-for="BcaCC" />
                            } }
                             BCA CC</td>
                        <td> <b>  @{ if (ViewBag.BCACC != null)
                                    {
                                        @Html.ActionLink((string)ViewBag.BCACC, "DownloadFile", new { fileName = ViewBag.BCACC });
                                    } } </b>
                        </td>
                        <td>@{ if (ViewBag.BCACC != null)
                            {
                                @Html.ActionLink("Upload", "UploadResult", new { fileName = "masih Kosong" });
                            } }</td>
                    </tr>

                    <tr>
                        <td>@{ if (ViewBag.MandiriCC == null)
                            {
                                <input type="checkbox" asp-for="MandiriCC" />
                            } } Mandiri CC </td>
                        <td> <b> @{ if (ViewBag.MandiriCC != null)
                                    {
                                        @Html.ActionLink((string)ViewBag.MandiriCC, "DownloadFile", new { fileName = ViewBag.MandiriCC });
                                    } } </b>
                        </td>
                        <td>@{ if (ViewBag.MandiriCC != null)
                            {
                                @Html.ActionLink("Upload", "UploadResult", new { fileName = "masih Kosong" });
                            } }</td>
                    </tr>

                    <tr>
                        <td>@{ if (ViewBag.MegaOnUs == null || ViewBag.MegaOfUs == null)
                            {
                                <input type="checkbox" asp-for="MegaCC" />
                            }
                        } Mega CC </td>
                        <td>
                            <b> @{ if (ViewBag.MegaOnUs != null)
                                    {
                                        @Html.ActionLink((string)ViewBag.MegaOnUs, "DownloadFile", new { fileName = ViewBag.MegaOnUs });
                                    }
                                }
                                @{
                                    if (ViewBag.MegaOfUs != null)
                                    {
                                        @Html.ActionLink((string)ViewBag.MegaOfUs, "DownloadFile", new { fileName = ViewBag.MegaOfUs });
                                    }

                                } </b>
                        </td>
                        <td>@{ if (ViewBag.MegaOnUs != null)
                            {
                                @Html.ActionLink("Upload", "UploadResult", new { fileName = "masih Kosong" });
                            }
                        }</td>
                    </tr>

                    <tr>
                        <td>@{ if (ViewBag.BNICC == null)
                            {
                                <input type="checkbox" asp-for="BniCC" />
                            }
                        } BNI CC </td>
                        <td>
                            <b>
                                @{ if (ViewBag.BNICC != null)
                                    {
                                        @Html.ActionLink((string)ViewBag.BNICC, "DownloadFile", new { fileName = ViewBag.BNICC });
                                    }
                                }
                            </b>
                        </td>
                        <td>
                            @{ if (ViewBag.BNICC != null)
                                {
                                    @Html.ActionLink("Upload", "UploadResult", new { fileName = "masih Kosong" });
                                } }
                        </td>
                    </tr>
                </table>
                
                    <h4>Billing AC</h4>
                    <table class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th style="width:250px;">Bank Collector</th>
                                <th>File Billing</th>
                                <th style="width:125px;">Upload Result</th>
                            </tr>
                        </thead>
                        <tr>
                            <td>
                                @{ if (ViewBag.BcaAC == null)
                                    {
                                        <input type="checkbox" asp-for="BcaAC" />
                                    } } BCA Auto Collection
                            </td>
                            <td><b>@{ if (ViewBag.BcaAC != null)
                                        {
                                            @Html.ActionLink((string)ViewBag.BcaAC, "DownloadFile", new { fileName = ViewBag.BcaAC });
                                        }
                                    }
                                </b>
                            </td>
                            <td>
                                @{ if (ViewBag.BcaAC != null)
                                {
                                    @Html.ActionLink("Upload", "UploadResult", new { fileName = "masih Kosong" });
                                } }
                        </td>
                        </tr>
                        <tr>
                            <td>
                                @{ if (ViewBag.MandiriAC == null)
                                    {
                                        <input type="checkbox" asp-for="MandiriAC" />
                                    } } Mandiri Auto Collection
                            </td>
                            <td><b>
                                    @{ if (ViewBag.MandiriAC != null)
                                        {
                                            @Html.ActionLink((string)ViewBag.MandiriAC, "DownloadFile", new { fileName = ViewBag.MandiriAC });
                                        }
                                    }</b>
                            </td>
                            <td>@{ if (ViewBag.MandiriAC != null)
                                {
                                    @Html.ActionLink("Upload", "UploadResult", new { fileName = "masih Kosong" });
                                } }
                            </td>
                        </tr>
                    </table>

                <h4>Virtual Account</h4>
                <table class="table table-bordered table-striped">
                        <tr>
                            <td style="width:250px;"> <input type="checkbox" asp-for="BcaRegularPremium" /> BCA Reguler Premium (VA) </td>
                            <td><b>
                                @{ if (ViewBag.VA != null)
                                    {
                                        @Html.ActionLink((string)ViewBag.VA, "DownloadFile", new { fileName = ViewBag.VA });
                                    }
                                }
                            </b></td>
                        </tr>
                        </table>
</div>
            <div class="panel-footer" style="margin: auto; text-align:center; padding: 10px;">
                <input type="submit" value="Create File" class="btn btn-success" />
                <input type="button" value="Reset Data Billing" class="btn btn-danger" onclick="location.href='@Url.Action("reset", "BillingFile")'" />
            </div>
        </div>            
    </div>

</form>

@{
    var Files = (ViewBag.Files as string[]);

    if (Files != null && Files.Any())
    {
        foreach (var file in Files)
        {
            <br />
            @Html.ActionLink(file, "DownloadFile", new { fileName = file })
            <br />

        }
    }
}